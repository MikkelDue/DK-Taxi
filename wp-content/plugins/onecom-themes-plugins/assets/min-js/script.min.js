!function(p){function o(e){var t,a=(a=jQuery(e.target).attr("data-filter-key"))||p("#oc_theme_filter").find(".oc-active-filter").attr("data-filter-key"),o=p(".pagination-item.current").attr("data-request_page"),n=p(".theme-browser").attr("data-item_count"),i=null,r=Math.ceil(p("#theme-browser-page-1 ."+a).length/n);"oc_theme_filter"===p(e.target).parent().attr("id")&&(o=1,t=r,p(".theme-browser-pagination .current").removeClass("current"),p(".theme-browser-pagination .first").addClass("current"),p(".theme-browser-pagination a").hide(),1<t&&p(".theme-browser-pagination a").slice(0,t).show(),p(".oc-active-filter").removeClass("oc-active-filter"),p(e.target).addClass("oc-active-filter")),d(p(".all")),"all"!==a?(d(jQuery(".one-theme").not(jQuery("."+a))),i=1<r?(t=(o-1)*n,e=o*n,p("."+a).slice(t,e)):p("."+a),s(jQuery(i))):s(p(".page-"+o))}function s(e){p(e).removeClass("hidden_theme"),p(".theme-browser-page").hide(),p(".theme-browser-page-filtered").show().append(p(e).clone())}function d(e){p(".theme-browser-page-filtered").find(e).remove()}function t(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var o=t[a].split("=");if(o[0]==e)return o[1]}return!1}function i(e){e&&1==e?p(".inline_badge").show():p(".inline_badge").hide()}function r(e,t,a){var o,n="",e=p("#theme-browser-page-1").find(p('[data-index="'+e+'"]')),n=p(e).find(p(".theme-action")).find("[data-theme_slug]").data("theme_slug");"0"==(isPremiumInt=p(e).data("is-premium")||"0")?o="false":"1"==isPremiumInt&&(o="true"),n&&(themeName=n.trim()),oc_trigger_log({actionType:"wppremium_preview_theme",isPremium:o,theme:n,referrer:a})}if(p(document).ready(function(){screenshotPreview(),0<p(".onecom-move-up").length&&p(".onecom-move-up").click(function(){return p("html, body").animate({scrollTop:0},"slow"),!1}),p(".plugin-action-buttons").each(function(){150<p(this).width()&&(p(this).closest(".one-plugin-card .action-links").css({position:"initial",display:"block","margin-left":"104px"}),p(this).closest(".plugin-card-top").find(".column-name").css({"margin-right":"0"}),p(this).closest(".plugin-action-buttons").css({clear:"both",float:"none","text-align":"left"}))}),p(document).on("click",".one-install, .one-installed",function(){p(".loading-overlay.fullscreen-loader").addClass("show");var c=p(this),m=1==p(this).parents(".one-theme.theme").first().attr("data-is-premium")?"ptheme":"stheme",h=location.search;oc_validate_action(m).then(function(e){var t,a,o,n,i,r,s,d,l;if("ptheme"==m&&(t="true"),"stheme"==m&&(t="false"),"onecom_install_theme"===c.data("name")&&(a="install",o="wppremium_install_theme"),"onecom_activate_theme"===c.data("name")&&(a="activate",o="wppremium_activate_theme"),"success"===e.status)return i=p(n=c),r=p(n).parents(".one-theme:first"),p(r).addClass("active"),s=p(n).attr("data-name"),d=p(n).attr("data-theme_slug"),n=p(n).attr("data-redirect"),l=onecom_vars.network,void 0!==s&&""!=s&&(s={action:s,theme_slug:d,redirect:n,network:l=void 0===l?!1:l},p(r).addClass("active"),p.post(ajaxurl,s,function(e){var t,e=p.parseJSON(e);void 0!==e.type&&"redirect"==e.type?window.location=e.url:(p(".onecom-notifier").html(e.message).attr("type",e.type).addClass("show"),t=5e3,"success"==e.type&&(p(r).addClass("installed"),p(i).removeClass("one-install").addClass("one-installed"),p(i).find(".action-text").remove(),p(i).find("> span").append(e.button_html),p(i).attr("data-name","onecom_activate_theme"),t=1500),setTimeout(function(){p(".onecom-notifier").removeClass("show"),p(".loading-overlay.fullscreen-loader").removeClass("show")},t))})),oc_trigger_log({actionType:o,isPremium:t,theme:c.data("theme_slug"),referrer:h}),!0;"failed"===e.status?(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:t,feature:"theme",theme:c.data("theme_slug"),featureAction:a,referrer:h}),p(".loading-overlay.fullscreen-loader").removeClass("show")):e.msg&&oc_alert(e.msg,"error",5e3)})}),p(document).on("click",".install-now, .activate-plugin-ajax",function(e){e.preventDefault();var a=p(this),o=p(this).parents(".one-plugin-card:first"),e=p(this).attr("data-download_url"),t=p(this).attr("data-slug"),n=p(this).attr("data-name"),i=p(this).attr("data-action"),r=p(this).attr("data-redirect"),s=void 0!==p(this).attr("data-plugin_type")?p(this).attr("data-plugin_type"):"",i=(p(".loading-overlay.fullscreen-loader").addClass("show"),{action:i,plugin_slug:t,plugin_name:n,download_url:e,plugin_type:s,redirect:r});p.post(ajaxurl,i,function(e){var t,e=p.parseJSON(e);console.log(e),void 0!==e.type&&"redirect"==e.type?window.location=e.url:(p(".onecom-notifier").html(e.message).attr("type",e.type).addClass("show"),t=5e3,"success"==e.type&&(p(o).addClass("activate"),p(a).after(e.button_html),p(a).remove(),t=1500),setTimeout(function(){p(".onecom-notifier").removeClass("show"),p(".loading-overlay.fullscreen-loader").removeClass("show")},t))})}),p(".pagination-item").click(function(e){e.preventDefault(),p(this).is(".current")||(p(".pagination-item").removeClass("current"),p(this).addClass("current"),o(e))});var t=p("#one-confirmation"),e=t.attr("data-yes_string"),a=t.attr("data-no_string");t.dialog({dialogClass:"wp-dialog wp-one-dialog",modal:!0,autoOpen:!1,closeOnEscape:!0,width:"25%",hide:{effect:"explode",duration:1e3},resizable:!1,buttons:[{text:a,class:"button",click:function(){p(this).dialog("close")}},{text:e,class:"button button-primary",click:function(){var e=p(this).data("element"),e=p(e).parents("form:first");p(e)[0].submit(),p(this).dialog("close")}}]}),p(".one-deactivate-plugin").click(function(e){e.preventDefault(),t.data("element",this).dialog("open")}),p(".discouraged-modal-close").click(function(){p("#one-confirmation").dialog("close")}),p(".one-theme").hover(function(){p(this).addClass("active")},function(){p(this).removeClass("active")}),p("#oc_theme_filter li").click(function(e){o(e)})}),p(window).scroll(function(){onecom_move_up_toggle()}),p(window).load(function(){onecom_move_up_toggle()}),window.onpopstate=function(e){var a;void 0!==e&&null!=e.state?a=e.state.paged:void 0!==(a=t("paged"))&&""!=a&&null!=a||(a=1),p(".pagination-item").each(function(e,t){p(t).attr("data-request_page")==a&&p(t).trigger("click")})},this.screenshotPreview=function(){xOffset=10,yOffset=30,p(".one-screenshot").hover(function(e){this.t=this.title;var t=(this.title="")!=this.t?"<br/>"+this.t:"";p("body").append("<p id='one-screenshot'><img src='"+p(this).attr("data-preview")+"' alt='url preview' />"+t+"</p>"),p("#screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px").fadeIn("fast")},function(){this.title=this.t,p("#one-screenshot").remove()}),p(".one-screenshot").mousemove(function(e){p("#one-screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px")})},p(document).on("thickbox:iframe:loaded",function(e){TB_WIDTH=75*p(window).width()/100,TB_HEIGHT=85*p(window).height()/100,p("#TB_window").css({"margin-left":"-"+parseInt(TB_WIDTH/2,10)+"px",width:TB_WIDTH+"px"}),p("#TB_window").css({"margin-top":"-"+parseInt(TB_HEIGHT/2,10)+"px",height:TB_HEIGHT+"px"}),p("#TB_iframeContent").contents().find("head").append(p("<style type='text/css'> .plugin-install-php #plugin-information-footer {display:none !important;} </style>"))}),p(document).on("click",".preview_link",function(){var e=p(this).parents(".one-theme:first"),t=p(".theme-browser > div.one-theme").length,a=p(this).attr("data-demo-url"),a=(p("iframe").attr("src",a),p(this).attr("data-id")),o=p(this).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id"),o=(p(".header_btn_bar .next").attr("data-demo-id",o),p(this).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id")),o=(p(".header_btn_bar .previous").attr("data-demo-id",o),i(p(this).parents(".one-theme:first").attr("data-is-premium")),p(".header_btn_bar .theme-info").attr("data-theme-count",t),p(".header_btn_bar .theme-info").attr("data-active-demo-id",a),p(".header_btn_bar .preview-install-button").attr("data-active-demo-id",a),p(".header_btn_bar .next").removeAttr("style"),p(".header_btn_bar .previous").removeAttr("style"),p(this).attr("data-id")),o=(0===p("#demo-"+o).closest(".one-theme").prev(".one-theme").length&&(p(".header_btn_bar .previous").css({opacity:"0.5",cursor:"initial"}),p(".header_btn_bar .previous").attr("data-demo-id","0")),p(this).attr("data-id"));0===p("#demo-"+o).closest(".one-theme").next(".one-theme").length&&(p(".header_btn_bar .next").css({opacity:"0.5",cursor:"initial"}),p(".header_btn_bar .next").attr("data-demo-id","0")),p(e).hasClass("installed")?p(".header_btn_bar").find(".preview-install-button").hide():p(".header_btn_bar").find(".preview-install-button").show(),tb_show("Preview Popup","#TB_inline?width=full&height=full&inlineId=thickbox_preview&modal=true&class=thickbox",null),p("body").addClass("preview_page"),r(o,0,location.search)}),p(document).on("click",".close_btn",function(){tb_remove(),setTimeout(function(){p("body").removeClass("preview_page")},500)}),p(document).on("click",".one-dialog-close",function(){tb_remove()}),p(document).on("click",".preview-install-button",function(){var a=p(this).attr("data-active-demo-id"),o=null;p(".one-theme").each(function(e,t){if(p(t).find(".preview_link").attr("data-id")===a)return o=t,!1}),null!=o&&(p("html, body").stop().animate({scrollTop:p(o).offset().top-64},300),p(".close_btn").trigger("click"),p(o).find(".one-install").trigger("click"))}),p(document).on("click","#desktop",function(){p(".preview-container .phone-content").removeClass("phone-content").addClass("desktop-content"),p(".preview-container .preview span").remove(".screen-rotate"),p(".preview-container").removeClass("scroll"),p(".preview-container iframe").removeClass("horizontal"),p(".desktop-content").removeClass("horizontal"),p("#desktop").addClass("current"),p("#mobile").removeClass("current")}),p(document).on("click","#mobile",function(){p(".preview-container .desktop-content").removeClass("desktop-content").addClass("phone-content"),p(".preview-container").addClass("scroll"),p(".preview-container .preview").append('<span class="screen-rotate"></span>'),p("#desktop").removeClass("current"),p("#mobile").addClass("current")}),p(document).on("click",".screen-rotate",function(){p(".preview-container iframe").toggleClass("horizontal"),p(".phone-content").toggleClass("horizontal")}),p(document).on("click",".header_btn_bar .next",function(){var e,t,a=p(this).attr("data-demo-id"),o=p("#preview_box .theme-info").attr("data-active-demo-id"),n=p("#demo-"+a).closest(".one-theme").next(".one-theme").length;p(".header_btn_bar .preview-install-button").attr("data-active-demo-id",a),r(a,0,location.search),i(p('[data-index="'+a+'"]').attr("data-is-premium")),"0"===a?event.stopPropagation():(0===n?(p(this).css({opacity:"0.5",cursor:"initial"}),p(this).attr("data-demo-id",0),p(".header_btn_bar .previous").attr("data-demo-id",o),e=p("#demo-"+a).attr("data-demo-url"),t=p("#demo-"+a).parents(".one-theme:first"),p("iframe").attr("src",e)):(p(".header_btn_bar .previous").removeAttr("style"),e=p("#demo-"+a).attr("data-demo-url"),t=p("#demo-"+a).parents(".one-theme:first"),p("iframe").attr("src",e),n=p("#demo-"+a).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id"),p(this).attr("data-demo-id",n),p(".header_btn_bar .previous").attr("data-demo-id",o)),p(".header_btn_bar .theme-info").attr("data-active-demo-id",a)),p(t).hasClass("installed")?p(".header_btn_bar").find(".preview-install-button").hide():p(".header_btn_bar").find(".preview-install-button").show()}),p(document).on("click",".header_btn_bar .previous",function(){var e,t,a=p(this).attr("data-demo-id"),o=p("#preview_box .theme-info").attr("data-active-demo-id"),n=p("#demo-"+a).closest(".one-theme").prev(".one-theme").length;p(".header_btn_bar .preview-install-button").attr("data-active-demo-id",a),r(a,0,location.search),i(p('[data-index="'+a+'"]').attr("data-is-premium")),"0"===a?event.stopPropagation():(0===n?(p(this).css({opacity:"0.5",cursor:"initial"}),p(this).attr("data-demo-id",0),p(".header_btn_bar .next").attr("data-demo-id",o),e=p("#demo-"+a).attr("data-demo-url"),t=p("#demo-"+a).parents(".one-theme:first"),p("iframe").attr("src",e)):(p(".header_btn_bar .next").removeAttr("style"),e=p("#demo-"+a).attr("data-demo-url"),t=p("#demo-"+a).parents(".one-theme:first"),p("iframe").attr("src",e),n=p("#demo-"+a).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id"),p(this).attr("data-demo-id",n),p(".header_btn_bar .next").attr("data-demo-id",o)),p(".header_btn_bar .theme-info").attr("data-active-demo-id",a)),p(t).hasClass("installed")?p(".header_btn_bar").find(".preview-install-button").hide():p(".header_btn_bar").find(".preview-install-button").show()}),this.onecom_move_up_toggle=function(){if(0==p(".onecom-move-up").length)return!1;p(window).height()/2<=p(window).scrollTop()?p(".onecom-move-up").addClass("show"):p(".onecom-move-up").removeClass("show")},p(".h-parent").length){const n=document.querySelector(".h-parent");let t=!1,a,o;n.addEventListener("mousedown",e=>{t=!0,n.classList.add("active"),a=e.pageX-n.offsetLeft,o=n.scrollLeft}),n.addEventListener("mouseleave",()=>{t=!1,n.classList.remove("active")}),n.addEventListener("mouseup",()=>{t=!1,n.classList.remove("active")}),n.addEventListener("mousemove",e=>{t&&(e.preventDefault(),e=3*(e.pageX-n.offsetLeft-a),n.scrollLeft=o-e,console.log(e))})}}(jQuery);